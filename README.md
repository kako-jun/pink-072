# pink-072

A Rust crate implementing the PINK-072 specification. Conceals payloads by concatenating them after pink-colored cover images.

## How It Works

**Note**: This is NOT steganography (embedding data within image pixels). Instead, payloads are concatenated after a cover image. When saved as PNG/WebP, image viewers display only the cover portion and ignore the trailing payload.

- **Cover image**: Always 72×72 RGBA (same seed = same appearance)
- **Payload**: Any binary data (text, images, videos, ZIP archives, etc.)
- **Visual style**: Organic curves generated by 2D Perlin noise with a pink-to-white gradient palette

## Installation

```toml
[dependencies]
pink072 = "0.1"
```

## Usage

### Rust API

```rust
use pink072::{pink072_wrap, pink072_unwrap};

// Embed payload
let payload = b"secret data";
let seed = [0x12, 0x34, 0x56, 0x78, 0x9A, 0xBC, 0xDE, 0xF0, 0x11];
let frame = pink072_wrap(payload, 2, &seed, 8)?;

// Extract payload
let (payload_type, extracted) = pink072_unwrap(&frame)?;
```

### WASM API

```bash
wasm-pack build --features wasm --target web
```

```javascript
import init, { wasm_pink072_wrap, wasm_pink072_unwrap } from './pkg/pink072.js';

await init();
const frame = wasm_pink072_wrap(payload, 2, seed, 8);
const result = wasm_pink072_unwrap(frame);
```

## API

### `pink072_wrap(payload, payload_type, seed9, strength) -> Vec<u8>`

Generates a frame with embedded payload.

- `payload`: Byte slice of arbitrary length
- `payload_type`: Payload type (0–4)
- `seed9`: 9-byte seed for random number generation
- `strength`: Pink intensity (0–12)

### `pink072_unwrap(frame) -> (payload_type, payload)`

Extracts payload from a frame.

## Frame Structure

```
Header (32B) | Cover (72×72 RGBA = 20,736B) | Payload
```

- **Header**: Version, PayloadType, BlockSize, Strength, PayloadLength, Reserved
- **Cover**: Seed-derived random noise + Fisher-Yates shuffle + pink bias
- **Payload**: Raw data without modification

## License

GPL-3.0-or-later
